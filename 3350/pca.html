<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chapter 6: Dimensionality Reduction – PCA Example</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
   body {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      background: #17191a;
      min-height: 100vh;
      color: #ff79c6;
      padding: 20px;
    }
    section {
      margin-bottom: 55px;
      background: #222025;
      border-radius: 18px;
      box-shadow: 0 4px 30px rgba(255,121,198,.09);
      padding: 36px 32px 22px 32px;
      transition: box-shadow .24s;
      border-left: 7px solid #ff79c6;
      position: relative;
      max-width: 850px;
      margin-left: auto;
      margin-right: auto;
    }
    section h4 {
      font-size: 1.18em;
      color: #ffb3de;
      margin-bottom: 5px;
      margin-top: 30px;
      font-weight: 600;
      border-bottom: 1px solid #ffb3de;
      padding-bottom: 2px;
    }
    pre {
      background: #19121a;
      color: #ffb3de;
      padding: 15px 18px;
      border-radius: 8px;
      font-size: 1.04em;
      line-height: 1.7;
      overflow-x: auto;
      box-shadow: 0 2px 10px rgba(255,121,198,0.11);
      position: relative;
    }
    pre .copy {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 4px 8px;
      background: #21111b;
      border: 1px solid #ff79c6;
      border-radius: 6px;
      color: #ffb3de;
      font-size: 0.8em;
      cursor: pointer;
    }
    pre .copy:hover {
      background: #ff79c6;
      color: #fff;
    }
  </style>
</head>
<body>

<section>
  <h4>PCA – Dimensionality Reduction with Iris Dataset</h4>
  <p>
    <strong>Principal Component Analysis (PCA)</strong> is a technique that reduces the dimensionality 
    of a dataset by projecting features onto new axes (principal components) that capture the 
    maximum variance. It is especially useful for <em>visualizing high-dimensional data</em>.
  </p>

  <h4>Example: PCA on Iris Dataset</h4>
  <pre> <button class="copy">Copy</button> <code>
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.datasets import load_iris
from sklearn.preprocessing import StandardScaler
from sklearn.decomposition import PCA

# --- Load the Iris dataset ---
iris = load_iris(as_frame=True)
X = iris.data
y = iris.target
target_names = iris.target_names

print("Original Data Shape:", X.shape)
print(X.head())

# --- Step 1: Standardize the features ---
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# --- Step 2: Apply PCA (reduce to 2 components for visualization) ---
pca = PCA(n_components=2)
X_pca = pca.fit_transform(X_scaled)

print("\nExplained Variance Ratio:", pca.explained_variance_ratio_)

# --- Step 3: Create a DataFrame with PCA components ---
df_pca = pd.DataFrame(data=X_pca, columns=["PC1", "PC2"])
df_pca["target"] = y

print("\nPCA-transformed Data:")
print(df_pca.head())

# --- Step 4: Plot PCA results ---
plt.figure(figsize=(8,6))
for target, color, label in zip([0,1,2], ["red", "green", "blue"], target_names):
    plt.scatter(df_pca.loc[df_pca["target"] == target, "PC1"],
                df_pca.loc[df_pca["target"] == target, "PC2"],
                color=color, alpha=0.7, label=label)

plt.xlabel("Principal Component 1")
plt.ylabel("Principal Component 2")
plt.title("PCA of Iris Dataset")
plt.legend()
plt.grid(True, linestyle="--", alpha=0.5)
plt.show()
  </code> </pre>

  <h4>Notes:</h4>
  <ul>
    <li>PCA reduces the original <strong>4D Iris dataset</strong> into <strong>2 principal components</strong>.</li>
    <li>The <code>explained_variance_ratio_</code> shows how much information each principal component captures.</li>
    <li>After transformation, the dataset can be visualized in 2D, clearly showing clusters of the three flower species.</li>
    <li><b>Key insight:</b> PCA does not use class labels, but it still often reveals natural groupings in the data.</li>
  </ul>
</section>

<script>
  document.querySelectorAll("pre .copy").forEach(button => {
    button.addEventListener("click", () => {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        const old = button.textContent;
        button.textContent = "Copied!";
        setTimeout(() => button.textContent = old, 1500);
      });
    });
  });
</script>

</body>
</html>
