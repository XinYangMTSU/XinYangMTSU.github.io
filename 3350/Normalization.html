
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chapter 2: Data Preprocessing & Feature Engineering</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
   body {
      font-family: 'Roboto', Arial, sans-serif;
      margin: 0;
      background: #17191a;
      min-height: 100vh;
      color: #ff79c6; /* MAIN PINK FONT COLOR */
      padding: 20px;
    }

    section {
      margin-bottom: 55px;
      background: #222025;
      border-radius: 18px;
      box-shadow: 0 4px 30px rgba(255,121,198,.09);
      padding: 36px 32px 22px 32px;
      transition: box-shadow .24s;
      border-left: 7px solid #ff79c6;
      position: relative;
      max-width: 850px;
      margin-left: auto;
      margin-right: auto;
    }

    section h4 {
      font-size: 1.18em;
      color: #ffb3de;
      margin-bottom: 5px;
      margin-top: 30px;
      font-weight: 600;
      border-bottom: 1px solid #ffb3de;
      padding-bottom: 2px;
    }

    pre {
      background: #19121a;
      color: #ffb3de;
      padding: 15px 18px;
      border-radius: 8px;
      font-size: 1.04em;
      line-height: 1.7;
      overflow-x: auto;
      box-shadow: 0 2px 10px rgba(255,121,198,0.11);
      position: relative;
    }

    pre .copy {
      position: absolute;
      top: 8px;
      right: 8px;
      padding: 4px 8px;
      background: #21111b;
      border: 1px solid #ff79c6;
      border-radius: 6px;
      color: #ffb3de;
      font-size: 0.8em;
      cursor: pointer;
    }
    pre .copy:hover {
      background: #ff79c6;
      color: #fff;
    }

    footer {
      margin-top: 46px;
      text-align: center;
      color: #ffb3de;
      font-size: 1.09em;
      letter-spacing: 1px;
      padding: 22px 0 14px 0;
      border-top: 1px solid #402138;
      background: none;
      font-weight: 500;
    }
  </style>
</head>
  
<body>

<section>
  <h4>Log Normalization</h4>
  <p>
    <b>Log Normalization</b> is a transformation where we apply a logarithmic function (like log base 10, natural log, or log base 2) to skewed data.
    The goal is to reduce the impact of very large values and make the distribution more “normal-like” (closer to Gaussian).
  </p>

</section>

<section>
  <h4>Example: Log Normalization of Skewed Data</h4>
  <pre> <button class="copy">Copy</button> <code>
import pandas as pd
import numpy as np

# Skewed dataset (income values, for example)
data = {'Income': [20000, 25000, 30000, 100000, 500000]}
df = pd.DataFrame(data)

print("Original Data:")
print(df)

# Apply log transform
df['Income_Log'] = np.log(df['Income'])

print("\nAfter Log Normalization:")
print(df)
  </code> </pre>
</section>

<section>
<h4>Case Study: Breast Cancer Dataset</h4>
  <pre> <button class="copy">Copy</button> <code>
import numpy as np
import pandas as pd
from sklearn.datasets import load_breast_cancer
import matplotlib.pyplot as plt

# 1. Load dataset as pandas DataFrame
data = load_breast_cancer(as_frame=True)
df = data.frame

# Pick a skewed feature
# Most traditional algorithms assume (or perform better when) features 
# follow a normal-like distribution, which is why we often transform skewed data
feature = "mean area"
values = df[feature]

# 2. Plot before log transform
plt.figure(figsize=(12,5))

plt.subplot(1,2,1)
plt.hist(values, bins=30, color="teal", edgecolor="black")
plt.title(f"Original Distribution: {feature}")
plt.xlabel(feature)
plt.ylabel("Frequency")

# 3. Apply log transform
values_log = np.log1p(values)  # log(1+x)
# Why Use log1p Instead of log(x)? 
# Handles zeros safely If x = 0, then log(0) is undefined  
# But log1p(0) = log(1) = 0  So it won’t break on zero values.

plt.subplot(1,2,2)
plt.hist(values_log, bins=30, color="darkred", edgecolor="black")
plt.title(f"Log-Transformed Distribution: {feature}")
plt.xlabel("log(1 + " + feature + ")")
plt.ylabel("Frequency")

plt.tight_layout()
plt.show()
  </code> </pre>
</section>
  
  
<section>
  <h4>Why Use Log Normalization?</h4>
  <ul>
    <li>Many datasets have skewed distributions (e.g., income, word counts, gene expression, web traffic).</li>
    <li>A few extremely large values can dominate models.</li>
    <li>Log transform compresses large numbers while spreading out small ones, making the data easier for algorithms to work with.</li>
  </ul>
</section>

<section>
  <h4>Limitations</h4>
  <ul>
    <li>Log transforms only apply to positive values (require shifting if negatives exist).</li>
  </ul>
</section>
  
<script>
  document.querySelectorAll("pre .copy").forEach(button => {
    button.addEventListener("click", () => {
      const code = button.nextElementSibling.innerText;
      navigator.clipboard.writeText(code).then(() => {
        const old = button.textContent;
        button.textContent = "Copied!";
        setTimeout(() => button.textContent = old, 1500);
      });
    });
  });
</script>

</body>
</html>
