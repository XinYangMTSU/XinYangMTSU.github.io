<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Elbow Method Explained</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['$', '$']],
        processEscapes: true
      },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Roboto',Arial,sans-serif;background:#17191a;min-height:100vh;color:#ff79c6;padding:20px}
    section{margin:0 auto 40px auto;background:#222025;border-radius:18px;box-shadow:0 4px 30px rgba(255,121,198,.09);padding:30px;border-left:7px solid #ff79c6;position:relative;max-width:1200px}
    h1{color:#ffb3de;margin:0 0 8px 0;text-align:center;font-size:2.5em}
    h2{margin:0 0 15px 0;color:#ffb3de;font-weight:700;font-size:1.6em;border-bottom:2px solid #ff79c6;padding-bottom:10px}
    h3{font-size:1.15em;color:#ffb3de;margin:25px 0 12px 0;font-weight:600;background:#1e1a20;padding:10px;border-left:4px solid #10b981;border-radius:4px}
    h4{font-size:1.05em;color:#ffd7f0;margin:15px 0 8px 0;font-weight:600}
    p{color:#ffd7f0;line-height:1.8;margin-bottom:12px}
    .subtitle{text-align:center;color:#ffd7f0;opacity:.9;font-size:1.1em;margin-bottom:20px}
    .pill{display:inline-block;background:#19121a;border:1px solid #ff79c6;border-radius:999px;padding:6px 12px;margin:2px 8px 2px 0;font-size:.9em}

    .step-box{background:#2a252b;border-left:4px solid;border-radius:8px;padding:20px;margin:20px 0}
    .step-box.step1{border-left-color:#FF6B6B}
    .step-box.step2{border-left-color:#4ECDC4}
    .step-box.step3{border-left-color:#f59e0b}
    .step-box.step4{border-left-color:#10b981}

    .comparison-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin:15px 0}
    .comparison-item{background:#2a252b;padding:15px;border-radius:8px;border:1px solid rgba(255,121,198,0.2)}

    .chart-container{background:#1e1a20;border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 2px 10px rgba(255,121,198,0.11);border:1px solid rgba(255,121,198,0.2)}
    canvas{border-radius:8px}

    .data-table{background:#2a252b;border-radius:8px;padding:15px;margin:15px 0;overflow-x:auto}
    table{width:100%;border-collapse:collapse;font-size:0.95em}
    th{background:#1e1a20;color:#ffb3de;padding:12px;border:1px solid #ff79c6;font-weight:600;text-align:left}
    td{padding:10px;border:1px solid rgba(255,121,198,0.2);background:#2a252b;color:#ffd7f0}
    tr:hover td{background:#1e1a20}

    .highlight-box{background:#10b981;border-radius:8px;padding:20px;margin:20px 0;color:#fff;border:2px solid #059669}
    .highlight-box h4{color:#fff;margin-top:0}

    .warning-box{background:#f59e0b;border-radius:8px;padding:15px;margin:15px 0;color:#fff;border:2px solid #d97706}
    .warning-box h4{color:#fff;margin-top:0}

    .info-box{background:#2a252b;border-left:4px solid #8be9fd;border-radius:8px;padding:15px;margin:15px 0}

    .elbow-marker{display:inline-block;background:#FF6B6B;color:#fff;padding:4px 10px;border-radius:4px;font-weight:600;margin:0 5px}

    ul{margin:10px 0 10px 30px;color:#ffd7f0;line-height:1.8}
    li{margin:6px 0}

    .formula-box{background:#19121a;border:1px solid #ff79c6;border-radius:8px;padding:15px;margin:15px 0;font-family:monospace;color:#ffd7f0}
  </style>
</head>
<body>

<section>
  <center><h1><span class="pill"><i class="fas fa-chart-line"></i> The Elbow Method</span></h1></center>
  <p class="subtitle">How to choose the optimal number of clusters (k) in K-Means</p>
</section>

<section>
  <h2><i class="fas fa-question-circle"></i> What is the Elbow Method?</h2>

  <p>The <b>Elbow Method</b> is a technique to determine the optimal number of clusters (k) in K-Means clustering.</p>

  <div class="highlight-box">
    <h4><i class="fas fa-lightbulb"></i> Core Idea</h4>
    <p style="margin:0">
      Run K-Means with different values of k (1, 2, 3, ..., n), calculate WCSS for each k, and plot the results.
      The "elbow" point (where WCSS decreases less sharply) indicates the optimal k.
    </p>
  </div>

  <h3><i class="fas fa-why"></i> Why Do We Need It?</h3>

  <p><b>The Problem:</b> We don't know how many clusters we should create!</p>

  <ul>
    <li>Too few clusters: Lose information, oversimplify data</li>
    <li>Too many clusters: Overfit, clusters become meaningless</li>
    <li>Just right: Maximize insight without overfitting</li>
  </ul>

  <div class="info-box">
    <p><i class="fas fa-info-circle"></i> <b>Key Insight:</b> WCSS always decreases as k increases (more clusters = smaller distances).
    So we can't just pick the smallest WCSS. We need to find the "sweet spot" using the Elbow Method.</p>
  </div>
</section>

<section>
  <h2><i class="fas fa-tasks"></i> Step-by-Step: How the Elbow Method Works</h2>

  <div class="step-box step1">
    <h3 style="margin-top:0"><i class="fas fa-1"></i> Step 1: Run K-Means Multiple Times</h3>
    <p>Run K-Means algorithm with different k values: k = 1, 2, 3, 4, 5, ...</p>

    <div class="formula-box">
For k = 1: Run K-Means with 1 cluster
For k = 2: Run K-Means with 2 clusters
For k = 3: Run K-Means with 3 clusters
For k = 4: Run K-Means with 4 clusters
... and so on
    </div>

    <p><b>Example from our dataset:</b></p>
    <ul>
      <li>k=1: 1 cluster containing all 7 points</li>
      <li>k=2: 2 clusters (what we calculated)</li>
      <li>k=3: 3 clusters (not calculated, but possible)</li>
    </ul>
  </div>

  <div class="step-box step2">
    <h3 style="margin-top:0"><i class="fas fa-2"></i> Step 2: Calculate WCSS for Each k</h3>
    <p>After K-Means converges for each k, calculate the total WCSS.</p>

    <p><b>Example WCSS values (hypothetical dataset):</b></p>
    <div class="data-table">
      <table>
        <tr>
          <th>k (# of clusters)</th>
          <th>WCSS Value</th>
          <th>Change from Previous</th>
          <th>% Decrease</th>
        </tr>
        <tr>
          <td><b>k = 1</b></td>
          <td><b>100.00</b></td>
          <td>—</td>
          <td>—</td>
        </tr>
        <tr>
          <td><b>k = 2</b></td>
          <td><b>35.00</b></td>
          <td>-65.00 (big drop!) ↓↓↓</td>
          <td>65%</td>
        </tr>
        <tr>
          <td><b>k = 3</b></td>
          <td><b>20.00</b></td>
          <td>-15.00 (small drop) ↓</td>
          <td>43%</td>
        </tr>
        <tr>
          <td><b>k = 4</b></td>
          <td><b>12.00</b></td>
          <td>-8.00 (small drop) ↓</td>
          <td>40%</td>
        </tr>
        <tr>
          <td><b>k = 5</b></td>
          <td><b>8.00</b></td>
          <td>-4.00 (small drop) ↓</td>
          <td>33%</td>
        </tr>
      </table>
    </div>
  </div>

  <div class="step-box step3">
    <h3 style="margin-top:0"><i class="fas fa-3"></i> Step 3: Plot WCSS vs k</h3>
    <p>Create a line plot with k on the x-axis and WCSS on the y-axis.</p>

    <div class="chart-container">
      <canvas id="elbowChart"></canvas>
    </div>
  </div>

  <div class="step-box step4">
    <h3 style="margin-top:0"><i class="fas fa-4"></i> Step 4: Find the Elbow Point</h3>
    <p>Look for the point where WCSS decreases less sharply. This is where the curve "bends" like an elbow.</p>

    <div class="highlight-box" style="margin-top:15px">
      <h4 style="margin-top:0"><i class="fas fa-check"></i> In Our Example</h4>
      <p style="margin:0">The <span class="elbow-marker">elbow is at k=2</span> because:</p>
      <ul style="margin:10px 0 0 30px">
        <li>From k=1 to k=2: WCSS drops 65% (huge improvement!)</li>
        <li>From k=2 to k=3: WCSS drops 43% (less improvement)</li>
        <li>From k=3 to k=4: WCSS drops 40% (even less)</li>
        <li>From k=4 to k=5: WCSS drops 33% (diminishing returns)</li>
      </ul>
      <p style="margin:15px 0 0 0"><b>Conclusion:</b> k=2 is optimal. Adding more clusters doesn't help much.</p>
    </div>
  </div>
</section>

<section>
  <h2><i class="fas fa-brain"></i> Understanding the "Elbow" Concept</h2>

  <div class="comparison-grid">
    <div class="comparison-item">
      <h4 style="margin-top:0"><i class="fas fa-arrow-down"></i> Steep Drop (k=1 to k=2)</h4>
      <p><b>What it means:</b></p>
      <ul style="margin:10px 0 0 20px;font-size:0.9em">
        <li>WCSS decreases a LOT</li>
        <li>Adding one cluster helps significantly</li>
        <li>Data clearly fits into 2 clusters better than 1</li>
        <li>Steep slope on the graph</li>
      </ul>
      <p style="margin:15px 0 0 0"><b>Graph shape:</b> Vertical drop</p>
    </div>

    <div class="comparison-item">
      <h4 style="margin-top:0"><i class="fas fa-arrow-right"></i> Gentle Drop (k=2 to k=3+)</h4>
      <p><b>What it means:</b></p>
      <ul style="margin:10px 0 0 20px;font-size:0.9em">
        <li>WCSS decreases a LITTLE</li>
        <li>Adding more clusters helps minimally</li>
        <li>We're starting to overfit</li>
        <li>Gentle slope on the graph</li>
      </ul>
      <p style="margin:15px 0 0 0"><b>Graph shape:</b> Horizontal line</p>
    </div>
  </div>

  <div class="info-box">
    <p><i class="fas fa-info-circle"></i> <b>The "Elbow" Name:</b> The graph looks like an arm bent at the elbow!
    The steep part is the forearm, the gentle part is the upper arm, and where they meet is the elbow joint.</p>
  </div>
</section>


<!--
<section>
  <h2><i class="fas fa-warning"></i> Limitations and Challenges of the Elbow Method</h2>

  <div class="warning-box">
    <h4><i class="fas fa-exclamation-triangle"></i> Challenge 1: Elbow Not Always Clear</h4>
    <p style="margin:0">Sometimes the curve is smooth without a sharp elbow, making it hard to identify the optimal k.</p>
  </div>

  <div class="warning-box">
    <h4><i class="fas fa-exclamation-triangle"></i> Challenge 2: Subject to Interpretation</h4>
    <p style="margin:0">Different people might identify the elbow at different points. It's not always objective.</p>
  </div>

  <div class="warning-box">
    <h4><i class="fas fa-exclamation-triangle"></i> Challenge 3: Only Looks at Compactness</h4>
    <p style="margin:0">WCSS only measures how tight clusters are. It doesn't measure if clusters are well-separated from each other.</p>
  </div>

  <div class="warning-box">
    <h4><i class="fas fa-exclamation-triangle"></i> Challenge 4: Domain Knowledge Ignored</h4>
    <p style="margin:0">Sometimes the optimal k from a business perspective differs from the statistical elbow point.</p>
  </div>
</section>
-->


<script>
// Create the Elbow chart
const ctx = document.getElementById('elbowChart').getContext('2d');
const elbowChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: ['k=1', 'k=2', 'k=3', 'k=4', 'k=5', 'k=6'],
    datasets: [{
      label: 'WCSS (Inertia)',
      data: [100, 35, 20, 12, 8, 6],
      borderColor: '#FF6B6B',
      backgroundColor: 'rgba(255, 107, 107, 0.1)',
      borderWidth: 3,
      fill: true,
      tension: 0.1,
      pointRadius: 8,
      pointBackgroundColor: '#FF6B6B',
      pointBorderColor: '#fff',
      pointBorderWidth: 2,
      pointHoverRadius: 10
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: true,
    plugins: {
      legend: {
        labels: {
          color: '#ffb3de',
          font: { size: 14, weight: 'bold' }
        }
      },
      title: {
        display: true,
        text: 'Elbow Method: WCSS vs Number of Clusters',
        color: '#ffb3de',
        font: { size: 16, weight: 'bold' }
      },
      annotation: {
        annotations: {
          elbow: {
            type: 'label',
            xValue: 'k=2',
            yValue: 35,
            content: ['Elbow!']
          }
        }
      }
    },
    scales: {
      y: {
        beginAtZero: true,
        ticks: { color: '#ffd7f0' },
        title: {
          display: true,
          text: 'WCSS (Inertia)',
          color: '#ffb3de',
          font: { size: 13, weight: 'bold' }
        },
        grid: { color: 'rgba(255, 121, 198, 0.1)' }
      },
      x: {
        ticks: { color: '#ffd7f0' },
        title: {
          display: true,
          text: 'Number of Clusters (k)',
          color: '#ffb3de',
          font: { size: 13, weight: 'bold' }
        },
        grid: { color: 'rgba(255, 121, 198, 0.1)' }
      }
    }
  }
});

// Add annotation for elbow point
const canvas = document.getElementById('elbowChart');
const elbowAnnotation = document.createElement('div');
elbowAnnotation.style.position = 'absolute';
elbowAnnotation.style.color = '#FF6B6B';
elbowAnnotation.style.fontWeight = 'bold';
elbowAnnotation.style.fontSize = '12px';
elbowAnnotation.innerHTML = '← Elbow Point!';
</script>
