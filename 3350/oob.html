<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OOB Error Explained</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Roboto',Arial,sans-serif;background:#17191a;min-height:100vh;color:#ff79c6;padding:20px}
    section{margin:0 auto 55px auto;background:#222025;border-radius:18px;box-shadow:0 4px 30px rgba(255,121,198,.09);padding:36px 32px 22px 32px;border-left:7px solid #ff79c6;max-width:1400px}
    h1{color:#ffb3de;text-align:center;font-size:2.5em;margin-bottom:15px}
    h2{color:#ffb3de;font-size:1.8em;margin:30px 0 20px 0}
    h3{color:#ffb3de;font-size:1.3em;margin:20px 0 15px 0}
    p{color:#ffd7f0;line-height:1.8;margin-bottom:15px}
    .subtitle{text-align:center;color:#ffd7f0;font-size:1.1em;margin-bottom:20px}
    .pill{display:inline-block;background:#19121a;border:1px solid #ff79c6;border-radius:999px;padding:4px 10px;font-size:.9em}

    .box{background:#2a252b;border-radius:12px;padding:20px;margin:15px 0;border:2px solid rgba(255,121,198,0.3)}
    .box-title{color:#ffb3de;font-weight:700;font-size:1.1em;margin-bottom:15px}

    .samples{display:flex;flex-wrap:wrap;gap:10px;margin:15px 0}
    .sample{width:45px;height:45px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1em;border:2px solid;color:#fff}
    .sample.in-bag{background:#ff79c6;border-color:#ffb3de}
    .sample.oob{background:#8be9fd;border-color:#8be9fd}
    .sample.correct{background:#10b981;border-color:#10b981}
    .sample.wrong{background:#ef4444;border-color:#ef4444}

    .step-box{background:#19121a;border-radius:10px;padding:15px;margin:15px 0;border-left:4px solid #ff79c6}
    .step-number{display:inline-block;background:#ff79c6;color:#222025;width:30px;height:30px;border-radius:50%;text-align:center;line-height:30px;font-weight:700;margin-right:10px}
    .step-title{color:#ffb3de;font-weight:700;display:inline}

    .tree-section{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:20px 0}
    .tree-box{background:#19121a;border-radius:10px;padding:20px;border:2px solid rgba(255,121,198,0.2)}
    .tree-name{color:#ffb3de;font-weight:700;font-size:1.1em;margin-bottom:15px}

    .highlight{background:rgba(255,121,198,0.15);border-left:4px solid #ff79c6;padding:15px;margin:15px 0;border-radius:6px}

    ul{margin-left:20px}
    li{color:#ffd7f0;margin:8px 0;line-height:1.6}
    b{color:#ffb3de}

    .result{background:rgba(16,185,129,0.1);border:2px solid #10b981;border-radius:10px;padding:20px;margin:20px 0;text-align:center}
    .result-title{color:#10b981;font-weight:700;font-size:1.2em;margin-bottom:10px}
    .result-value{color:#fff;font-size:1.5em;font-weight:700}
  </style>
</head>
<body>

<section>
  <h1><span class="pill">Out-of-Bag (OOB) Error</span></h1>
  <p class="subtitle">How Random Forest automatically tests each tree</p>
  <div class="box">
    <div class="box-title">What is OOB Error?</div>
    <p><b>Out-of-Bag Error</b> = Error rate when testing a tree on samples it never trained on</p>
  </div>
</section>

<section>
  <h2>Step 1: Original Data</h2>
  <p>We start with 10 samples:</p>
  <div class="box">
    <div class="samples">
      <div class="sample in-bag">1</div>
      <div class="sample in-bag">2</div>
      <div class="sample in-bag">3</div>
      <div class="sample in-bag">4</div>
      <div class="sample in-bag">5</div>
      <div class="sample in-bag">6</div>
      <div class="sample in-bag">7</div>
      <div class="sample in-bag">8</div>
      <div class="sample in-bag">9</div>
      <div class="sample in-bag">10</div>
    </div>
  </div>
</section>

<section>
  <h2>Step 2: Bootstrap Sampling for Tree 1</h2>
  <p>We randomly pick 10 samples WITH REPLACEMENT:</p>

  <div class="tree-section">
    <div class="tree-box">
      <div class="tree-name">‚úÖ IN-BAG (Used to Train Tree 1)</div>
      <p style="font-size:0.9em;color:#8be9fd;margin-bottom:10px">Tree 1 trains on these samples:</p>
      <div class="samples">
        <div class="sample in-bag">1</div>
        <div class="sample in-bag">1</div>
        <div class="sample in-bag">3</div>
        <div class="sample in-bag">5</div>
        <div class="sample in-bag">5</div>
        <div class="sample in-bag">6</div>
        <div class="sample in-bag">7</div>
        <div class="sample in-bag">8</div>
        <div class="sample in-bag">8</div>
        <div class="sample in-bag">9</div>
      </div>
    </div>

    <div class="tree-box">
      <div class="tree-name">‚ùå OUT-OF-BAG (NOT used for training)</div>
      <p style="font-size:0.9em;color:#8be9fd;margin-bottom:10px">Tree 1 NEVER saw these samples:</p>
      <div class="samples">
        <div class="sample oob">2</div>
        <div class="sample oob">4</div>
        <div class="sample oob">10</div>
      </div>
      <p style="font-size:0.85em;color:#ffd7f0;margin-top:10px">‚¨ÖÔ∏è These are Out-of-Bag samples!</p>
    </div>
  </div>
</section>

<section>
  <h2>Step 3: Test Tree 1 with OOB Samples</h2>
  <p>Now we test Tree 1 on the OUT-OF-BAG samples (data it never saw during training):</p>

  <div class="step-box">
    <span class="step-number">1</span>
    <span class="step-title">Test Sample 2:</span>
    <p style="margin-left:50px;margin-top:5px">
      Tree 1 predicts: <b>Cat</b><br>
      Actual answer: <b>Cat</b><br>
      Result: ‚úÖ <span style="color:#10b981">CORRECT</span>
    </p>
  </div>

  <div class="step-box">
    <span class="step-number">2</span>
    <span class="step-title">Test Sample 4:</span>
    <p style="margin-left:50px;margin-top:5px">
      Tree 1 predicts: <b>Dog</b><br>
      Actual answer: <b>Cat</b><br>
      Result: ‚ùå <span style="color:#ef4444">WRONG</span>
    </p>
  </div>

  <div class="step-box">
    <span class="step-number">3</span>
    <span class="step-title">Test Sample 10:</span>
    <p style="margin-left:50px;margin-top:5px">
      Tree 1 predicts: <b>Cat</b><br>
      Actual answer: <b>Cat</b><br>
      Result: ‚úÖ <span style="color:#10b981">CORRECT</span>
    </p>
  </div>
</section>

<section>
  <h2>Step 4: Calculate OOB Error</h2>

  <div class="result">
    <div class="result-title">OOB Error for Tree 1</div>
    <div style="color:#ffd7f0;font-size:1.1em;margin:15px 0">
      Wrong predictions: <b>1 out of 3</b>
    </div>
    <div class="result-value">OOB Error = 1/3 = 33.3%</div>
    <div style="color:#ffd7f0;font-size:0.95em;margin-top:15px">
      Or: Accuracy = 2/3 = 66.7%
    </div>
  </div>
</section>

<section>
  <h2>All 3 Trees Get OOB Testing</h2>

  <div class="tree-section">
    <div class="tree-box">
      <div class="tree-name">üå≥ Tree 1</div>
      <p style="margin:10px 0"><b>In-Bag:</b> [1, 1, 3, 5, 5, 6, 7, 8, 8, 9]</p>
      <p style="margin:10px 0"><b>Out-of-Bag:</b> [2, 4, 10]</p>
      <p style="margin:10px 0;padding:10px;background:rgba(16,185,129,0.2);border-radius:6px">
        OOB Error: <b>33.3%</b>
      </p>
    </div>

    <div class="tree-box">
      <div class="tree-name">üå≥ Tree 2</div>
      <p style="margin:10px 0"><b>In-Bag:</b> [1, 2, 2, 4, 6, 6, 7, 8, 9, 10]</p>
      <p style="margin:10px 0"><b>Out-of-Bag:</b> [3, 5, 9]</p>
      <p style="margin:10px 0;padding:10px;background:rgba(16,185,129,0.2);border-radius:6px">
        OOB Error: <b>0%</b>
      </p>
    </div>

    <div class="tree-box">
      <div class="tree-name">üå≥ Tree 3</div>
      <p style="margin:10px 0"><b>In-Bag:</b> [2, 3, 3, 4, 5, 6, 7, 9, 10, 10]</p>
      <p style="margin:10px 0"><b>Out-of-Bag:</b> [1, 8]</p>
      <p style="margin:10px 0;padding:10px;background:rgba(16,185,129,0.2);border-radius:6px">
        OOB Error: <b>50%</b>
      </p>
    </div>
  </div>

  <div class="result">
    <div class="result-title">Overall Random Forest OOB Error</div>
    <div class="result-value">Average = (33.3% + 0% + 50%) / 3 = <b>27.8%</b></div>
  </div>
</section>

<section>
  <h2>Why OOB Error is Great</h2>

  <div class="highlight">
    <b>‚úÖ Advantage 1: Free Testing Data</b><br>
    You don't need to split data into training (80%) and testing (20%). All data is used for training, and OOB data automatically tests each tree!
  </div>

  <div class="highlight">
    <b>‚úÖ Advantage 2: Fair Test</b><br>
    Each tree is tested on data it NEVER saw during training. This gives an honest estimate of performance.
  </div>

  <div class="highlight">
    <b>‚úÖ Advantage 3: Automatic Validation</b><br>
    No extra work needed! Random Forest automatically calculates OOB error as a by-product of the algorithm.
  </div>
</section>

<section>
  <h2>OOB Error vs Test Set</h2>

  <div class="tree-section">
    <div class="tree-box">
      <div class="tree-name">Without OOB (Normal Method)</div>
      <ul style="margin-top:15px">
        <li>Split data: 80% train, 20% test</li>
        <li>Only 80% of data trains models</li>
        <li>20% is wasted for testing</li>
        <li>Models can't learn from test data</li>
      </ul>
    </div>

    <div class="tree-box">
      <div class="tree-name">With OOB (Random Forest)</div>
      <ul style="margin-top:15px">
        <li>Use 100% of data for training</li>
        <li>Each tree gets different OOB data</li>
        <li>No data is wasted</li>
        <li>More learning + automatic testing!</li>
      </ul>
    </div>
  </div>
</section>


</body>
</html>
