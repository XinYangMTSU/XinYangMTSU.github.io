<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Single, Complete, and Average Linkage</title>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
    <style>
        body {
            background: #1e1a20;
           font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
       }
        .dendrogram-box {
            background: #1e1a20;
            border-radius: 8px;
            padding: 20px;
        }
        h1 {
            color: #ffd7f0;
            text-align: center;
        }
        svg {
            width: 100%;
            background: #1e1a20;
            border-radius: 8px;
        }
        .formula-box {
            background: #1e1a20;
            border: 1.5px solid #ff79c6;
            border-radius: 8px;
            color: #ffd7f0;
            text-align: center;
            font-size: 16px;
        }
        .formula-box p {
            margin: 10px 0;
        }
    </style>
</head>
<body>

<div class="dendrogram-box">

<div class="dendrogram-box">

  <center>
  <h1>Single, Complete, and Average Linkage (One Graph)</h1>
  </center>

  <svg viewBox="0 0 740 430" xmlns="http://www.w3.org/2000/svg" style="width:100%;height:auto;background:#1e1a20;border-radius:8px">


    <!-- Cluster halos -->
    <ellipse cx="210" cy="205" rx="115" ry="95" fill="none" stroke="#ff79c6" stroke-width="2" opacity="0.5"/>
    <ellipse cx="520" cy="190" rx="125" ry="100" fill="none" stroke="#4ECDC4" stroke-width="2" opacity="0.5"/>

    <!-- Titles -->
    <text x="145" y="90" fill="#ffd7f0" font-size="14">Cluster A (|A| = 3)</text>
    <text x="480" y="80" fill="#ffd7f0" font-size="14">Cluster B (|B| = 3)</text>

    <!-- Points: Cluster A -->
    <g id="clusterA" fill="#ffb3de" stroke="#ff79c6">
      <circle id="A1" cx="165" cy="225" r="6" />
      <circle id="A2" cx="210" cy="150" r="6" />
      <circle id="A3" cx="240" cy="245" r="6" />
    </g>

    <!-- Points: Cluster B -->
    <g id="clusterB" fill="#b8fff3" stroke="#4ECDC4">
      <circle id="B1" cx="470" cy="180" r="6" />
      <circle id="B2" cx="520" cy="240" r="6" />
      <circle id="B3" cx="560" cy="130" r="6" />
    </g>

    <!-- Labels for points -->
    <g fill="#ffd7f0" font-size="12">
      <text x="152" y="243">A1</text>
      <text x="197" y="145">A2</text>
      <text x="248" y="263">A3</text>

      <text x="457" y="175">B1</text>
      <text x="507" y="260">B2</text>
      <text x="567" y="125">B3</text>
    </g>

    <!-- All cross-cluster pairwise distances (Average linkage = mean over these) -->
    <g stroke="#8be9fd" stroke-width="2" opacity="0.22">
      <!-- From A1 -->
      <line x1="165" y1="225" x2="470" y2="180"/>  <!-- A1-B1 -->
      <line x1="165" y1="225" x2="520" y2="240"/>  <!-- A1-B2 -->
      <line x1="165" y1="225" x2="560" y2="130"/>  <!-- A1-B3 -->
      <!-- From A2 -->
      <line x1="210" y1="150" x2="470" y2="180"/>  <!-- A2-B1 -->
      <line x1="210" y1="150" x2="520" y2="240"/>  <!-- A2-B2 -->
      <line x1="210" y1="150" x2="560" y2="130"/>  <!-- A2-B3 -->
      <!-- From A3 -->
      <line x1="240" y1="245" x2="470" y2="180"/>  <!-- A3-B1 -->
      <line x1="240" y1="245" x2="520" y2="240"/>  <!-- A3-B2 -->
      <line x1="240" y1="245" x2="560" y2="130"/>  <!-- A3-B3 -->
    </g>

    <g>
      <!-- shortest line -->
      <line x1="240" y1="245" x2="470" y2="180" stroke="#FF6B6B" stroke-width="3.5" />
      <!-- endpoints with red outline -->
      <circle cx="240" cy="245" r="6" fill="#ffb3de" stroke="#FF6B6B" stroke-width="2"/>
      <circle cx="470" cy="180" r="6" fill="#b8fff3" stroke="#FF6B6B" stroke-width="2"/>
      <!-- label -->
      <text x="305" y="230" fill="#FF6B6B" font-size="12" font-weight="600">
        Single linkage: min d(A,B) = d(A3, B1)
      </text>
    </g>


    <!-- COMPLETE LINKAGE (longest pair) — highlight one longest line (A1-B3 here) -->
    <g>
      <line x1="165" y1="225" x2="560" y2="130" stroke="#00c2b2" stroke-width="3.5" />
      <circle cx="165" cy="225" r="6" fill="#ffb3de" stroke="#00c2b2" stroke-width="2"/>
      <circle cx="560" cy="130" r="6" fill="#b8fff3" stroke="#00c2b2" stroke-width="2"/>
      <text x="350" y="118" fill="#00c2b2" font-size="12" font-weight="600">Complete linkage: max d(A,B)</text>
    </g>

    <!-- Legend -->
    <g font-size="12">
      <rect x="110" y="24" width="10" height="10" fill="#ff79c6"/><text x="126" y="32" fill="#ffd7f0">Cluster A</text>
      <rect x="210" y="24" width="10" height="10" fill="#4ECDC4"/><text x="226" y="32" fill="#ffd7f0">Cluster B</text>

      <line x1="320" y1="29" x2="350" y2="29" stroke="#8be9fd" stroke-width="3" opacity="0.5"/>
      <text x="355" y="33" fill="#ffd7f0">All A×B distances (Average)</text>

      <line x1="560" y1="29" x2="590" y2="29" stroke="#FF6B6B" stroke-width="3.5"/>
      <text x="595" y="33" fill="#ffd7f0">Single</text>

      <line x1="560" y1="49" x2="590" y2="49" stroke="#00c2b2" stroke-width="3.5"/>
      <text x="595" y="53" fill="#ffd7f0">Complete</text>
    </g>
  </svg>


  <!-- Formula box rendered outside SVG using MathJax -->
 <div class="formula-box">
    <p><strong>Average Linkage Formula:</strong></p>
   <p>Mean of all cross-cluster distances</p>
   <p>$$d(A,B) = \frac{1}{|A||B|}\sum_{i\in A}\sum_{j\in B} d(i,j)$$</p>
 </div>

</div>
